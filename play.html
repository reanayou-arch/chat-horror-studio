async function sendMessage() {
  const input = document.getElementById("msgInput");
  const text = input.value.trim();
  if (!text) return;

  addBubble("–í—ã", text, true);
  input.value = "";

  addBubble("...", "–ø–µ—á–∞—Ç–∞–µ—Ç...", false);

  try {
    const res = await fetch("https://chat-horror-api.onrender.com/chat", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({ message: text }),
    });

    const data = await res.json();

    removeTyping();
    addBubble("–ü–µ—Ä—Å–æ–Ω–∞–∂", data.reply, false);

  } catch (e) {
    removeTyping();
    addBubble("–û—à–∏–±–∫–∞", "–°–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç üò¢", false);
  }
}
